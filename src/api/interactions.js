import { db } from './firebase';import { doc, updateDoc, arrayUnion, arrayRemove, getDoc } from 'firebase/firestore';import { addNotification } from './notifications';export async function likePost(postId, uid){const postRef=doc(db,'posts',postId);const postSnap=await getDoc(postRef);if(postSnap.exists()){const post=postSnap.data();await updateDoc(postRef,{likes:arrayUnion(uid)});if(post.uid!==uid) await addNotification(post.uid,'like',uid,postId);}}export async function unlikePost(postId, uid){await updateDoc(doc(db,'posts',postId),{likes:arrayRemove(uid)});}
