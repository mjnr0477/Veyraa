import { db } from './firebase';import { collection, query, where, getDocs, getDoc, doc } from 'firebase/firestore';export async function getUserStats(uid){const postsQ=query(collection(db,'posts'),where('uid','==',uid));const postsSnap=await getDocs(postsQ);const userDoc=await getDoc(doc(db,'users',uid));const userData=userDoc.exists()?userDoc.data():{followers:[],following:[]};return{postsCount:postsSnap.size,followersCount:userData.followers?userData.followers.length:0,followingCount:userData.following?userData.following.length:0};}
