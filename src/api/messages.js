import { db } from './firebase';import { collection, addDoc, query, where, getDocs, orderBy } from 'firebase/firestore';export async function sendMessage(fromUid,toUid,text){await addDoc(collection(db,'messages'),{fromUid,toUid,text,createdAt:new Date().toISOString()});}export async function getMessages(uid1,uid2){const q=query(collection(db,'messages'),where('fromUid','in',[uid1,uid2]),where('toUid','in',[uid1,uid2]),orderBy('createdAt'));const snap=await getDocs(q);return snap.docs.map(doc=>({id:doc.id,...doc.data()}));}
